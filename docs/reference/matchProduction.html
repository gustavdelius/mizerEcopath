<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Match the model's production rate to empirical observations/estimates — matchProduction • mizerEcopath</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Match the model's production rate to empirical observations/estimates — matchProduction"><meta name="description" content="This function sets the respiration rate according to the first master
equation of Ecopath, which is: $$Q = P + R + U$$ where \(Q\) is the
consumption rate, \(P\) is the somatic production rate, \(R\) is the
respiration rate, and \(U\) is the unassimilated part of the consumption
rate, i.e., \(U = (1 - \alpha) Q\), where \(\alpha\) is the assimilation
efficiency. Solving this for \(R\) we get: $$R = Q \alpha - P$$"><meta property="og:description" content="This function sets the respiration rate according to the first master
equation of Ecopath, which is: $$Q = P + R + U$$ where \(Q\) is the
consumption rate, \(P\) is the somatic production rate, \(R\) is the
respiration rate, and \(U\) is the unassimilated part of the consumption
rate, i.e., \(U = (1 - \alpha) Q\), where \(\alpha\) is the assimilation
efficiency. Solving this for \(R\) we get: $$R = Q \alpha - P$$"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mizerEcopath</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9014</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mizerEcopath.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Celtic%20Sea%20Model.html">Celtic Sea Model</a></li>
    <li><a class="dropdown-item" href="../articles/diffusion.html">Incorporating predation diffusion</a></li>
    <li><a class="dropdown-item" href="../articles/ecopath_to_mizer.html">From Ecopath to Mizer</a></li>
    <li><a class="dropdown-item" href="../articles/North%20Sea%203%20spp%20Model.html">North Sea 3 Species Model</a></li>
    <li><a class="dropdown-item" href="../articles/todo.html">Todo list</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gustavdelius/mizerEcopath/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Match the model's production rate to empirical observations/estimates</h1>
      <small class="dont-index">Source: <a href="https://github.com/gustavdelius/mizerEcopath/blob/HEAD/R/matchProduction.R" class="external-link"><code>R/matchProduction.R</code></a></small>
      <div class="d-none name"><code>matchProduction.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function sets the respiration rate according to the first master
equation of Ecopath, which is: $$Q = P + R + U$$ where \(Q\) is the
consumption rate, \(P\) is the somatic production rate, \(R\) is the
respiration rate, and \(U\) is the unassimilated part of the consumption
rate, i.e., \(U = (1 - \alpha) Q\), where \(\alpha\) is the assimilation
efficiency. Solving this for \(R\) we get: $$R = Q \alpha - P$$</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">matchProduction</span><span class="op">(</span><span class="va">params</span>, tol <span class="op">=</span> <span class="fl">0.1</span>, max_iter <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">matchProductionOnce</span><span class="op">(</span><span class="va">params</span>, steady <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">isProductionMatched</span><span class="op">(</span><span class="va">params</span>, tol <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-params">params<a class="anchor" aria-label="anchor" href="#arg-params"></a></dt>
<dd><p>A MizerParams object</p></dd>


<dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>The relative tolerance for matching observed production. Default is 0.1.</p></dd>


<dt id="arg-max-iter">max_iter<a class="anchor" aria-label="anchor" href="#arg-max-iter"></a></dt>
<dd><p>The maximum number of iterations. Default is 10.</p></dd>


<dt id="arg-steady">steady<a class="anchor" aria-label="anchor" href="#arg-steady"></a></dt>
<dd><p>Logical. If <code>TRUE</code> (default), returns the model to steady state
after parameter adjustment using <code><a href="steadySingleSpecies.html">steadySingleSpecies()</a></code> and <code><a href="https://sizespectrum.org/mizer/reference/matchBiomasses.html" class="external-link">mizer::matchBiomasses()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A MizerParams object with the adjusted metabolic and reproductive parameters
to match production.</p>
<p>A MizerParams object with updated parameters and optionally a new steady state.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Ecopath does not explicitly account for the loss due to gonad production.
However most of the energy invested into gonad production is lost due to
the inefficiency of the reproductive process. Therefore in mizer we need
to include this loss in the respiration rate. Thus
$$R = K + G - R_dd * w_0$$
where \(K\) is the metabolic rate, \(G\) is the gonadic production rate,
\(R_dd\) is the rate of offspring production, and \(w_0\) is the weight
of an offspring at the size it enters the model. Thus \(G - R_dd * w_0\)
is the net loss due to gonad production.</p>
<p>The <code>matchProduction</code> function calls <code>matchProductionOnce()</code>
repeatedly until the production matches within the tolerance specified by
the <code>tol</code> parameter.
The function will return a warning if the maximum number of iterations is
reached without converging.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other match functions:
<code><a href="matchCatch.html">matchCatch()</a></code>,
<code><a href="matchConsumption.html">matchConsumption()</a></code>,
<code><a href="matchDiet.html">matchDiet()</a></code>,
<code><a href="matchExtMortOnce.html">matchExtMortOnce()</a></code>,
<code><a href="matchGonadicProportionOnce.html">matchGonadicProportionOnce()</a></code>,
<code><a href="matchRespirationOnce.html">matchRespirationOnce()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gustav Delius.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

